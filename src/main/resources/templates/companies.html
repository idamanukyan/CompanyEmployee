<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Companies</title>
</head>
<body>
<a href="/">Home</a> <br>

Companies Page | <a href="/addCompany">Add Company</a>

<table border="1">
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Size</th>
        <th>Address</th>
        <th>Actions</th>
    </tr>
    <tr th:each="company : ${companies.content}">
        <td th:text="${company.id}"></td>
        <td th:text="${company.name}"></td>
        <td th:text="${company.size}"></td>
        <td th:text="${company.address}"></td>
        <td>
            <a th:href="@{/editCompany/{id}(id=${company.id})}">Edit</a>
            <form th:action="@{/deleteCompany/{id}(id=${company.id})}" method="post" style="display:inline;"
                  onsubmit="return confirm('Are you sure you want to delete this company and all its employees?');">
                <button type="submit">Delete</button>
            </form>
        </td>
    </tr>
</table>

<div th:if="${companies.totalPages > 1}">
    <br>
    <span>Page <span th:text="${companies.number + 1}"></span> of <span th:text="${companies.totalPages}"></span></span>
    <br>
    <a th:if="${companies.hasPrevious()}" th:href="@{/companies(page=${companies.number - 1}, size=${companies.size})}">Previous</a>
    <a th:if="${companies.hasNext()}" th:href="@{/companies(page=${companies.number + 1}, size=${companies.size})}">Next</a>
</div>
</body>
</html>
